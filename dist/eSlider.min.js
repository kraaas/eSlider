"use strict";!function(t,e){function i(t){return new s(t)}var s=e();s.VERSION="0.0.1","function"==typeof require&&"object"==typeof module&&module&&"object"==typeof exports&&exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):t.Slider=i}(window,function(){function t(t){this.opt=e.extend({},t),this.el=e.query(this.opt.el),this.width=this.el.offsetWidth,this.data=this.opt.data||[],this.slides=[],this.axis=this.opt.vertical?"Y":"X",this.transtionName=this.opt.transtionName||"normal",this.transtionFn=i[this.transtionName],this.transtionTime=300,this.isAutoPlay=!0,this.autoPlayTimer=null,this.duration=this.opt.duration||2e3,this.currentIndex=0,this.nextIndex=0,this.showDot=!0,this.dots=[],this.dotPosition=this.opt.dotPosition||"center",this.offset={},this.prefixCls="slider",this.itemPrefixCls="slider_item",this.dotPrefixCls="slider_dot",this.init()}var e={query:function(t){return t&&1!==t.nodetype&&(t=document.querySelector(t)),t},extend:function(){return Object.assign||function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}}()},i={normal:function(t,e,i,s,n,r){t.style.transition="none",t.style.zIndex=0,e.style.transform="translateX("+(n-r)+"px)",i.style.transform="translateX("+n+"px)",i.style.zIndex=2,s.style.transform="translateX("+(n+r)+"px)"},fade:function(t,e,i,s,n,r){var o=Math.abs(n)/r;s=n>=0?e:s,t.style.zIndex=0,t.style.opacity=0,s.style.zIndex=1,s.style.opacity=o,i.style.zIndex=2,i.style.opacity=1-o}};return t.prototype={constructor:t,init:function(){if(!this.el||1!=this.el.nodeType)throw new TypeError("el should be a String or Element!");this.render(),this.bindEvent(),"normal"===this.transtionName&&this.setSlidesPosition(),this.setTransitionStyle(),this.slideTo(this.currentIndex),this.isAutoPlay&&this.autoPlay()},render:function(){function t(){var t=document.createElement("ul");t.classList.add(this.prefixCls+"_wrap"),this.data.forEach(function(e,i){var s=document.createElement("li");s.classList.add(this.itemPrefixCls);var n=document.createElement("img");n.classList.add(this.prefixCls+"_img"),n.src=e,s.appendChild(n),t.appendChild(s),this.slides.push(s)}.bind(this)),this.el.appendChild(t)}function e(){var t=document.createElement("div"),e=this.dotPrefixCls+"-outer";t.classList.add(e,e+"--"+this.dotPosition);var i=document.createElement("ul");i.classList.add(this.dotPrefixCls+"-inner"),this.data.forEach(function(t,e){var s=document.createElement("li");s.classList.add(this.dotPrefixCls),e==this.currentIndex&&s.classList.add(this.dotPrefixCls+"--active"),i.appendChild(s),this.dots.push(s)}.bind(this)),t.appendChild(i),this.el.appendChild(t)}t.call(this),this.showDot&&e.call(this)},bindEvent:function(){this.el.addEventListener("touchstart",this.eventHandler.bind(this)),this.el.addEventListener("touchmove",this.eventHandler.bind(this)),this.el.addEventListener("touchend",this.eventHandler.bind(this)),this.el.addEventListener("touchcancel",this.eventHandler.bind(this))},eventHandler:function(t){switch(t.preventDefault(),t.type){case"touchstart":this.startHandler(t);break;case"touchmove":this.moveHandler(t);break;case"touchend":case"touchcancel":this.endHandler(t)}},startHandler:function(t){this.offset={},this.pause(),this.startX=t.targetTouches[0].pageX,this.startY=t.targetTouches[0].pageY,this.startTime=(new Date).getTime()},moveHandler:function(t){var e={};e.X=t.targetTouches[0].pageX-this.startX,e.Y=t.targetTouches[0].pageY-this.startY,this.offset=e,this.transition(this.offset.X)},endHandler:function(t){var e=(new Date).getTime(),i=e-this.startTime>300?this.width/2:14;this.offset[this.axis]>=i?this.slideTo(this.currentIndex-1):this.offset[this.axis]<-i?this.slideTo(this.currentIndex+1):this.slideTo(this.currentIndex)},slideTo:function(t){this.isAutoPlay&&this.pause(),this.nextIndex=this.getNextIndex(t),this.showDot&&this.setDot(this.nextIndex),this.currentIndex=this.nextIndex,this.transition(0,!0),this.isAutoPlay&&this.autoPlay(),this.setTransitionStyle()},transition:function(t){var e=this.getNextIndex(this.currentIndex-1),i=this.getNextIndex(this.currentIndex+1);this.slides.forEach(function(s,n){this.transtionFn(s,this.slides[e],this.slides[this.currentIndex],this.slides[i],t,this.width)}.bind(this))},getNextIndex:function(t){var e=this.slides.length-1;return t=t>e?0:t<0?e:t},setSlidesPosition:function(){this.slides.forEach(function(t,e){var i;i=e===this.currentIndex?0:(e-this.currentIndex)*this.width,t.style.transform="translateX("+i+"px)"}.bind(this))},setTransitionStyle:function(){this.slides.forEach(function(t,e){t.style.transition="all "+this.transtionTime+"ms ease"}.bind(this))},setDot:function(t){this.dots[this.currentIndex].classList.remove("slider_dot--active"),this.dots[this.nextIndex].classList.add("slider_dot--active")},autoPlay:function(){this.pause(),this.autoPlayTimer=setTimeout(function(){this.slideTo(this.currentIndex+1),this.autoPlay()}.bind(this),this.duration)},pause:function(){clearTimeout(this.autoPlayTimer)}},t});